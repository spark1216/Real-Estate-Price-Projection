<!DOCTYPE html>
<html>
<head>
        <title> US Northeast Real Estate Price Prediction  </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <script>
            function getBathValue() {
    var uibath = document.getElementsByName("uibath");
    for (var i in uibath) {
        if (uibath[i].checked) {
            return parseInt(uibath[i].value);
        }
    }
    return -1;
}

function getBedValue() {
    var uibed = document.getElementsByName("uibed");
    for (var i in uibed) {
        if (uibed[i].checked) {
            return parseInt(uibed[i].value);
        }
    }
    return -1;
}
        function onClickedEstimatePrice() {
    console.log("Estimate price button clicked");
    var sqft = parseFloat(document.getElementById("uiSqft").value);
    var zipcode = parseFloat(document.getElementById("uizipcode").value);
    var bed = getBedValue();
    var bath = getBathValue();
    var acre_lot=parseFloat(document.getElementById("uiacrelot").value);
    var estPrice = document.getElementById("uiEstimatedPrice");
    var url = "http://127.0.0.1:5000/get_estimated_price";
    $.post(url, {
        bed: bed,
        bath: bath,
        acre_lot: acre_lot,
        house_size: sqft,
        zip_code: zipcode
    }, function(data, status) {
        console.log(data.estimated_price)
        var popup = document.getElementById('uiEstimatedPrice');
        popup.style.display = 'block';
        document.getElementById('estimatedPrice').innerText = 'Estimated Price: $' + data.estimated_price;
        displayEstimatedPrice(data.estimated_price);
        console.log(status);
    });
}
            </script> 
        
        <link rel="stylesheet" href="app.css">
       
</head>
<body>
    <div class="img"></div>
    <form class="form">
        <h2> House Area (Square Feet)</h2>
        <input class="area floatlabel" type="number" id="uiSqft" class="floatlabel" name="Squareft" value="800">
        <h2> Zipcode (5-Digit)</h2>
        <input class="zipcode floatlabel" type="number" id="uizipcode" class="floatlabel" name="5digit" value="10021">
        <h2> Acre Lot (Square Feet)</h2>
        <input class="acrelot floatlabel" type="number" id="uiacrelot" class="floatlabel" name="ft" value="0">
        <h2> Bed</h2>
        <div class="switch-field">
            <input type="radio" id="radio-bed-1" name="uibed" value="1"/>
            <label for="radio-bed-1">1</label>
            <input type="radio" id="radio-bed-2" name="uibed" value="2" checked/>
            <label for="radio-bed-2">2</label>
            <input type="radio" id="radio-bed-3" name="uibed" value="3"/>
            <label for="radio-bed-3">3</label>
            <input type="radio" id="radio-bed-4" name="uibed" value="4"/>
            <label for="radio-bed-4">4</label>
            <input type="radio" id="radio-bed-5" name="uibed" value="5"/>
            <label for="radio-bed-5">5</label>
        </div>
    </form>
    <form class="form">
        <h2> Bath</h2>
        <div class="switch-field">
            <input type="radio" id="radio-bath-1" name="uibath" value="1"/>
            <label for="radio-bath-1">1</label>
            <input type="radio" id="radio-bath-2" name="uibath" value="2" checked/>
            <label for="radio-bath-2">2</label>
            <input type="radio" id="radio-bath-3" name="uibath" value="3"/>
            <label for="radio-bath-3">3</label>
            <input type="radio" id="radio-bath-4" name="uibath" value="4"/>
            <label for="radio-bath-4">4</label>
            <input type="radio" id="radio-bath-5" name="uibath" value="5"/>
            <label for="radio-bath-5">5</label>
        </div>
            <button class="submit" onclick=onClickedEstimatePrice() type="button">Estimate Price</button>
            <div id="uiEstimatedPrice" class="result"> <h2></h2></div>
            <div id="popup" class="popup">
                <span id="estimatedPrice"></span>
            </div>
        </body>
</html>
